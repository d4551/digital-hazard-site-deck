/* Gamification HUD polish and glitch-friendly styling */

.presentation-hud {
    gap: 0.75rem;
    pointer-events: none;
}

.presentation-hud .card {
    pointer-events: auto;
    border-radius: 1rem;
    position: relative;
    overflow: hidden;
    transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.presentation-hud .card::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, hsl(var(--p) / 0.08), transparent 55%);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.presentation-hud .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px hsl(var(--p) / 0.12);
}

.presentation-hud .card:hover::after {
    opacity: 1;
}

.gamification-level-badge,
.presentation-hud .badge {
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.gamification-score-display {
    font-variant-numeric: tabular-nums;
    font-feature-settings: "tnum";
    letter-spacing: 0.06em;
    text-shadow: 0 0 12px hsl(var(--s) / 0.35);
    transition: transform 0.15s ease, text-shadow 0.2s ease;
}

.gamification-score-display.gamification-pop {
    transform: scale(1.05);
    text-shadow: 0 0 18px hsl(var(--s) / 0.5);
}

.presentation-powerups .btn {
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.presentation-powerups .btn:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 18px 32px hsl(var(--p) / 0.2);
}

.presentation-powerups .btn:active {
    transform: translateY(0) scale(1);
}

.gamification-combo-number {
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.08em;
    text-shadow: 0 0 20px hsl(var(--p) / 0.35);
}

.gamification-combo-multiplier {
    font-variant-numeric: tabular-nums;
    letter-spacing: 0.08em;
    text-shadow: 0 0 12px hsl(var(--a) / 0.25);
}

.gamification-quest-card {
    position: relative;
    min-height: 11.5rem;
    border-radius: 0.85rem;
    overflow: hidden;
    background-image: radial-gradient(circle at top right, hsl(var(--p) / 0.12), transparent 55%);
    transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
}

.gamification-quest-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(120deg, hsl(var(--p) / 0.18), transparent 60%);
    opacity: 0;
    transition: opacity 0.2s ease;
}

.gamification-quest-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 22px 38px hsl(var(--p) / 0.18);
    border-color: hsl(var(--p) / 0.4);
}

.gamification-quest-card:hover::before {
    opacity: 1;
}

.gamification-quest-title {
    letter-spacing: 0.12em;
    text-transform: uppercase;
}

.gamification-achievement-title {
    letter-spacing: 0.08em;
}

.gamification-score-popup {
    letter-spacing: 0.12em;
    font-variant-numeric: tabular-nums;
    box-shadow: 0 12px 30px hsl(var(--su) / 0.4);
}

.gamification-score-popup span {
    font-weight: 700;
}

/* Leadership cards - shared styling for avatars & layout */
.team-grid {
    align-items: stretch;
}

.leadership-card {
    border-radius: 1rem;
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.leadership-card .card-body {
    padding: 2.25rem 1.75rem;
    min-height: 100%;
}

.leadership-card:hover {
    transform: translateY(-6px);
    border-color: hsl(var(--a) / 0.5);
    box-shadow: 0 24px 50px hsl(var(--a) / 0.18);
}

.leader-avatar {
    width: 5.5rem;
    height: 5.5rem;
    border-radius: 50%;
    display: grid;
    place-items: center;
    font-size: 2.4rem;
    position: relative;
    color: hsl(var(--b1));
    background: radial-gradient(circle at 30% 30%, hsl(var(--b1) / 0.25), transparent 60%);
    box-shadow: inset 0 0 0 2px hsl(var(--b1) / 0.35), 0 12px 30px hsl(var(--p) / 0.25);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.leader-avatar::after {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: inherit;
    border: 2px dashed hsl(var(--b1) / 0.25);
    opacity: 0.7;
    animation: rotate-border 12s linear infinite;
}

.leader-avatar i {
    text-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.leadership-card:hover .leader-avatar {
    transform: scale(1.05);
    box-shadow: inset 0 0 0 2px hsl(var(--b1) / 0.5), 0 20px 38px hsl(var(--p) / 0.3);
}

.leader-avatar-primary {
    background: radial-gradient(circle at 50% 30%, hsl(var(--p)), hsl(var(--p) / 0.6));
}

.leader-avatar-secondary {
    background: radial-gradient(circle at 50% 30%, hsl(var(--s)), hsl(var(--s) / 0.6));
}

.leader-avatar-accent {
    background: radial-gradient(circle at 50% 30%, hsl(var(--a)), hsl(var(--a) / 0.6));
}

@keyframes rotate-border {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* Responsive adjustments */
@media (max-width: 1024px) {
    .presentation-hud {
        max-width: min(18rem, 90vw);
    }
    
    .gamification-quest-card {
        min-height: auto;
    }
    
    .leader-avatar {
        width: 4.5rem;
        height: 4.5rem;
        font-size: 2rem;
    }
}

@media (max-width: 640px) {
    .presentation-hud {
        position: fixed;
        top: auto;
        bottom: 1.5rem;
        right: 1rem;
        width: calc(100% - 2rem);
        max-width: none;
        transform: translateY(0);
    }
    
    .presentation-hud .card {
        backdrop-filter: blur(14px);
    }
    
    .presentation-hud .card-body {
        padding: 1.5rem;
    }
    
    .leader-avatar::after {
        display: none;
    }
}
/* Presentation/Pitch Deck Styles */
/* Using daisyUI patterns and proper z-index system */

/* Z-Index System - Using CSS variables for consistency */
:root {
    --z-presentation-background: -10;
    --z-presentation-content: 0;
    --z-presentation-nav-controls: 40;
    --z-presentation-hud: 45;
    --z-presentation-powerups: 46;
    --z-presentation-combo: 47;
    --z-presentation-toast: 48;
    --z-presentation-quest: 49;
    --z-presentation-modals: 100;
    --z-presentation-loading: 9999;
}

.slide {
    display: none;
    min-height: 100vh;
    max-height: 100vh;
    padding: 4rem 2rem;
    padding-bottom: calc(4rem + 80px); /* Add bottom padding to prevent nav overlap */
    position: relative;
    z-index: var(--z-presentation-content);
    box-sizing: border-box;
    overflow-y: auto;
    overflow-x: hidden;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    /* Disable scroll anchoring to prevent adjustment warnings */
    overflow-anchor: none;
    /* Smooth fade-in transition */
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
                transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide.active {
    display: flex;
    opacity: 1;
    transform: translateY(0);
    animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(30px) scale(0.98);
    }
    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}

/* Slide exit animation */
.slide.prev {
    opacity: 0.3;
    transform: translateX(-30px) scale(0.98);
    transition: opacity 0.4s ease-out, transform 0.4s ease-out;
}

/* Smooth scrollbar styling */
.slide::-webkit-scrollbar {
    width: 8px;
}

.slide::-webkit-scrollbar-track {
    background: hsl(var(--b2) / 0.3);
    border-radius: 4px;
}

.slide::-webkit-scrollbar-thumb {
    background: hsl(var(--p) / 0.5);
    border-radius: 4px;
}

.slide::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--p) / 0.7);
}

.easter-egg {
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: rgba(249, 115, 22, 0.3);
    cursor: pointer;
    animation: pulse 2s infinite;
    transition: all 0.2s ease;
    z-index: var(--z-presentation-content);
}

.easter-egg:hover {
    background: rgba(249, 115, 22, 0.6);
    transform: scale(1.2);
}

.easter-egg:focus-visible {
    outline: 2px solid hsl(var(--p));
    outline-offset: 2px;
}

#scorePopup {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: var(--z-presentation-toast);
}

#scorePopup.active {
    opacity: 1;
    transform: translateY(-20px);
}

#achievementNotification {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateX(400px);
    z-index: var(--z-presentation-toast);
}

#achievementNotification.show {
    transform: translateX(0);
}

#comboCounter {
    transition: opacity 0.3s ease;
    z-index: var(--z-presentation-combo);
}

#comboCounter.active {
    opacity: 1;
}

#highscoreBadge {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    z-index: var(--z-presentation-modals);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#highscoreBadge.show {
    transform: translate(-50%, -50%) scale(1);
}

/* Presentation HUD Positioning - Responsive */
.presentation-hud {
    position: fixed;
    z-index: var(--z-presentation-hud);
}

.presentation-powerups {
    position: fixed;
    z-index: var(--z-presentation-powerups);
}

.presentation-nav-controls {
    position: fixed;
    bottom: 1rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: var(--z-presentation-nav-controls);
    background: hsl(var(--b2) / 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid hsl(var(--bc) / 0.1);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
    margin-bottom: 0.5rem;
    transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Enhanced progress bar styling */
.presentation-nav-controls progress {
    transition: width 0.3s ease, opacity 0.3s ease;
}

.presentation-nav-controls progress:indeterminate {
    animation: progressIndeterminate 1.5s ease-in-out infinite;
}

@keyframes progressIndeterminate {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(400%); }
}

/* Slide counter enhancement */
.presentation-nav-controls .stat-value {
    font-variant-numeric: tabular-nums;
    font-weight: 700;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Navigation button hover effects */
.presentation-nav-controls .btn:hover {
    transform: scale(1.05);
    transition: transform 0.2s ease;
}

.presentation-nav-controls .btn:active {
    transform: scale(0.95);
}

.presentation-nav-controls .btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.presentation-quest-panel {
    position: fixed;
    z-index: var(--z-presentation-quest);
}

/* Enhanced slide content typography */
.slide h1, .slide h2, .slide h3 {
    line-height: 1.2;
    font-weight: 700;
    margin-bottom: 1rem;
}

.slide h2 {
    font-size: clamp(2rem, 5vw, 3.5rem);
}

.slide h3 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
}

.slide p {
    line-height: 1.6;
    margin-bottom: 1rem;
}

/* Slide content grid improvements */
.slide .grid {
    gap: 1.5rem;
}

/* Card hover effects within slides */
.slide .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.slide .card:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
}

/* Mobile optimizations for presentation */
@media (max-width: 768px) {
    .slide {
        padding: 2rem 1rem;
        padding-bottom: calc(2rem + 100px); /* Extra padding on mobile for nav */
        font-size: 0.95rem;
    }
    
    .slide h2 {
        font-size: clamp(1.75rem, 6vw, 2.5rem);
        margin-bottom: 0.75rem;
    }
    
    .slide h3 {
        font-size: clamp(1.25rem, 5vw, 2rem);
    }
    
    .slide .grid {
        gap: 1rem;
    }
    
    .easter-egg {
        width: 16px;
        height: 16px;
    }
    
    /* Stack HUD elements on mobile */
    .presentation-hud {
        top: 1rem;
        right: 1rem;
        max-width: calc(100% - 2rem);
        flex-direction: column;
        gap: 0.75rem;
    }
    
    /* Move power-ups to bottom on mobile to avoid conflict */
    .presentation-powerups {
        top: auto;
        bottom: 5rem; /* Above navigation */
        left: 1rem;
        flex-direction: row;
        gap: 0.75rem;
    }
    
    .presentation-powerups .btn {
        width: 3rem;
        height: 3rem;
        min-width: 3rem;
        min-height: 3rem;
    }
    
    /* Hide combo counter on mobile (space constraint) */
    #comboCounter {
        display: none;
    }
    
    /* Quest panel moves to bottom-right on mobile */
    .presentation-quest-panel {
        bottom: 1rem;
        right: 1rem;
        left: auto;
        max-width: calc(100% - 2rem);
    }
    
    /* Navigation controls centered at bottom */
    .presentation-nav-controls {
        bottom: 1rem;
        left: 50%;
        transform: translateX(-50%);
        width: auto;
        max-width: calc(100% - 2rem);
        /* Ensure nav doesn't overlap content */
        margin-bottom: 0.5rem;
    }
    
    /* Back button positioned to avoid conflicts */
    .presentation-back-link {
        top: 1rem;
        left: 1rem;
        z-index: var(--z-presentation-nav-controls);
    }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
    .presentation-hud {
        top: 1rem;
        right: 1rem;
        max-width: 280px;
    }
    
    .presentation-powerups {
        top: 1rem;
        left: 1rem;
    }
    
    .presentation-quest-panel {
        bottom: 1rem;
        left: 1rem;
        max-width: 300px;
    }
    
    /* Combo counter smaller on tablet */
    #comboCounter {
        right: 1rem;
        transform: translateY(-50%) scale(0.85);
    }
}

/* Desktop - Full layout */
@media (min-width: 1025px) {
    .presentation-hud {
        top: 1rem;
        right: 1rem;
        max-width: 320px;
    }
    
    .presentation-powerups {
        top: 1rem;
        left: 1rem;
    }
    
    .presentation-quest-panel {
        bottom: 1rem;
        left: 1rem;
        max-width: 320px;
    }
    
    #comboCounter {
        right: 1rem;
        transform: translateY(-50%);
    }
}

/* Prevent overlap on small screens */
@media (max-width: 640px) {
    /* Ensure elements don't overlap with safe zones */
    .presentation-hud,
    .presentation-powerups,
    .presentation-quest-panel {
        pointer-events: auto;
    }
    
    /* Toast notifications adjust position on mobile */
    .toast.toast-top.toast-end {
        top: auto;
        bottom: 6rem; /* Above navigation */
        right: 1rem;
        left: 1rem;
        max-width: calc(100% - 2rem);
    }
}

/* Landscape mobile optimization */
@media (max-width: 896px) and (orientation: landscape) {
    .presentation-hud {
        top: 0.5rem;
        right: 0.5rem;
        max-width: 240px;
        gap: 0.5rem;
    }
    
    .presentation-powerups {
        top: auto;
        bottom: 4rem;
        left: 0.5rem;
        flex-direction: row;
        gap: 0.5rem;
    }
    
    .presentation-powerups .btn {
        width: 2.5rem;
        height: 2.5rem;
    }
    
    .presentation-quest-panel {
        bottom: 0.5rem;
        right: 0.5rem;
        max-width: 240px;
    }
    
    .presentation-nav-controls {
        bottom: 0.5rem;
    }
}

/* Touch target optimization for mobile */
@media (max-width: 768px) {
    .presentation-powerups .btn,
    .presentation-nav-controls .btn {
        min-width: 44px;
        min-height: 44px;
        touch-action: manipulation;
    }
    
    .presentation-hud .card {
        touch-action: manipulation;
    }
    
    .presentation-quest-panel {
        touch-action: manipulation;
    }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
    .presentation-nav-controls {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .presentation-hud {
        padding-top: max(1rem, env(safe-area-inset-top));
        padding-right: max(1rem, env(safe-area-inset-right));
    }
    
    .presentation-powerups {
        padding-left: max(1rem, env(safe-area-inset-left));
    }
    
    .presentation-back-link {
        padding-top: max(1rem, env(safe-area-inset-top));
        padding-left: max(1rem, env(safe-area-inset-left));
    }
}

/* Ensure no element overflows viewport */
.presentation-hud,
.presentation-powerups,
.presentation-quest-panel,
.presentation-nav-controls {
    max-width: 100vw;
    max-height: 100vh;
    overflow: visible;
}

/* Improve backdrop blur performance on mobile */
@media (max-width: 768px) {
    .presentation-hud .card,
    .presentation-quest-panel {
        backdrop-filter: blur(4px);
    }
}

/* Typography Standardization */
.slide h1 {
    font-size: clamp(2rem, 5vw, 4rem);
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: 1rem;
    color: hsl(var(--primary));
}

.slide h2 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: 0.75rem;
    color: hsl(var(--primary));
}

.slide h3 {
    font-size: clamp(1.25rem, 3vw, 2rem);
    font-weight: 500;
    line-height: 1.3;
    margin-bottom: 0.5rem;
}

.slide p {
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    line-height: 1.6;
    margin-bottom: 1rem;
    max-width: 65ch;
}

.slide ul, .slide ol {
    font-size: clamp(1rem, 2.5vw, 1.25rem);
    line-height: 1.6;
    margin-bottom: 1rem;
    padding-left: 1.5rem;
}

.slide li {
    margin-bottom: 0.5rem;
}

/* Spacing Standardization */
.slide > * + * {
    margin-top: 1.5rem;
}

.slide .content-section {
    margin-bottom: 2rem;
}

/* Color Standardization */
.slide {
    background: linear-gradient(135deg, hsl(var(--base-100)), hsl(var(--base-200)/0.5));
    color: hsl(var(--base-content));
}

/* Card Standardization */
.slide .card {
    background: hsl(var(--base-100)/0.8);
    backdrop-filter: blur(10px);
    border: 1px solid hsl(var(--base-300)/0.2);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}
/* Responsive Design Improvements */
@media (max-width: 768px) {
    .slide {
        padding: 2rem 1rem;
        padding-bottom: calc(2rem + 60px);
    }
    
    .slide h1 {
        font-size: 2.5rem;
    }
    
    .slide h2 {
        font-size: 2rem;
    }
    
    .slide p {
        font-size: 1.1rem;
    }
    
    /* Stack navigation vertically on mobile */
    .presentation-nav {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .presentation-nav button {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .slide {
        padding: 1.5rem 0.75rem;
        padding-bottom: calc(1.5rem + 60px);
    }
    
    .slide h1 {
        font-size: 2rem;
    }
    
    .slide h2 {
        font-size: 1.75rem;
    }
    
    /* Hide text in back link on very small screens */
    .presentation-back-link span {
        display: none;
    }
}
/* Enhanced UI Elements */

/* Button Enhancements */
.slide .btn {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    font-weight: 500;
}

.slide .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
}

.slide .btn:active {
    transform: translateY(0);
}

/* Navigation Enhancements */
.presentation-nav {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: hsl(var(--base-100)/0.9);
    backdrop-filter: blur(10px);
    border-top: 1px solid hsl(var(--base-300)/0.2);
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: var(--z-presentation-nav-controls);
}

.presentation-nav button {
    min-width: 120px;
}

/* Card Enhancements */
.slide .feature-card {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.slide .feature-card:hover {
    transform: translateY(-4px);
}

.slide .feature-card .card-body {
    padding: 2rem;
}

/* Progress Indicator */
.presentation-progress {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: hsl(var(--base-300)/0.2);
    z-index: var(--z-presentation-nav-controls);
}

.presentation-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, hsl(var(--primary)), hsl(var(--secondary)));
    transition: width 0.3s ease;
}
/* Smooth Animations and Visual Polish */
/* Separation of concerns: All animation styles centralized */
/* Standardized with DaisyUI 5 - many animations moved to daisyui-standardized.css */

/* Improved Animation Easing - DaisyUI 5 compatible */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes glitch {
    0% {
        transform: translate(0);
    }
    20% {
        transform: translate(-2px, 2px);
    }
    40% {
        transform: translate(-2px, -2px);
    }
    60% {
        transform: translate(2px, 2px);
    }
    80% {
        transform: translate(2px, -2px);
    }
    100% {
        transform: translate(0);
    }
}

@keyframes rgbShift {
    0% {
        filter: hue-rotate(0deg);
    }
    50% {
        filter: hue-rotate(180deg);
    }
    100% {
        filter: hue-rotate(0deg);
    }
}
/* Smooth Hover Transitions - Use CSS variables for timing */
.card,
.feature-card,
.stat-card,
.info-card {
    transition: all var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.card:hover,
.feature-card:hover,
.stat-card:hover,
.info-card:hover {
    transform: translateY(-4px);
}

/* Button Hover States - Use CSS variables */
.btn {
    transition: all var(--animation-fast, 150ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.btn:active:not(:disabled) {
    transform: translateY(0);
}

/* Improved Loading States */
.loading-spinner {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* Smooth Pulse Animation */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.animate-pulse-smooth {
    animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Float Animation Improvement */
@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-20px);
    }
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

/* Smooth Color Transitions */
* {
    transition-property: background-color, border-color, color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}

/* Improved Contrast for Better Readability */
.text-base-content {
    color: hsl(var(--bc));
    /* Ensure WCAG AA contrast (4.5:1 for normal text) */
}

.text-base-content\/70 {
    color: color-mix(in srgb, hsl(var(--bc)) 70%, transparent);
    /* Fallback for browsers without color-mix */
}

/* Better Focus Visible States */
*:focus-visible {
    outline-width: 2px;
    outline-style: solid;
    outline-color: hsl(var(--p));
    outline-offset: 2px;
    border-radius: 0.25rem;
}

/* Smooth Scroll Behavior */
html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* Badge Animations */
.badge-earned {
    animation: bounce 0.6s ease-in-out;
}

@keyframes bounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
}

/* Progress Bar Smooth Fill - Use CSS variables */
.progress {
    transition: width var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

/* Toast/Alert Animations - Use CSS variables */
.toast {
    animation: slideInRight var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

@keyframes slideInRight {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

/* Skeleton Loading States */
.skeleton {
    background: linear-gradient(
        90deg,
        hsl(var(--b2)) 25%,
        hsl(var(--b3)) 50%,
        hsl(var(--b2)) 75%
    );
    background-size: 200% 100%;
    animation: skeleton-loading 1.5s ease-in-out infinite;
}

@keyframes skeleton-loading {
    0% {
        background-position: 200% 0;
    }
    100% {
        background-position: -200% 0;
    }
}

/* Improved Hover Glow Effects */
.glow-hover:hover {
    filter: drop-shadow(0 0 8px currentColor);
    transition: filter 0.3s ease;
}

/* Smooth Theme Transitions */
html {
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Game Canvas Animations */
.demo-canvas {
    transition: opacity 0.3s ease;
}

.demo-canvas:hover {
    opacity: 0.95;
}

/* Think Different Visual Effects */

/* Typewriter Effect for Manifesto Quotes */
@keyframes typewriter {
    from {
        width: 0;
        opacity: 0;
    }
    to {
        width: 100%;
        opacity: 1;
    }
}

.typewriter {
    overflow: hidden;
    white-space: nowrap;
    border-right: 2px solid;
    animation: typewriter 3s steps(40, end), blink-caret 0.75s step-end infinite;
}

@keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: currentColor; }
}

/* Glitch Effect for Rebel Moments */
@keyframes glitch {
    0%, 100% {
        transform: translate(0);
        filter: hue-rotate(0deg);
    }
    10% {
        transform: translate(-2px, 2px);
        filter: hue-rotate(90deg);
    }
    20% {
        transform: translate(2px, -2px);
        filter: hue-rotate(180deg);
    }
    30% {
        transform: translate(-2px, -2px);
        filter: hue-rotate(270deg);
    }
    40% {
        transform: translate(2px, 2px);
        filter: hue-rotate(360deg);
    }
    50%, 90% {
        transform: translate(0);
        filter: hue-rotate(0deg);
    }
}

.glitch {
    animation: glitch 0.3s ease-in-out;
    position: relative;
}

.glitch::before,
.glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
}

.glitch::before {
    left: 2px;
    text-shadow: -2px 0 #ff00c1;
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim 5s infinite linear alternate-reverse;
}

.glitch::after {
    left: -2px;
    text-shadow: -2px 0 #00fff9, 2px 2px #ff00c1;
    clip: rect(44px, 450px, 56px, 0);
    animation: glitch-anim 1s infinite linear alternate-reverse;
}

@keyframes glitch-anim {
    0% {
        clip: rect(31px, 9999px, 94px, 0);
    }
    20% {
        clip: rect(42px, 9999px, 75px, 0);
    }
    40% {
        clip: rect(8px, 9999px, 85px, 0);
    }
    60% {
        clip: rect(80px, 9999px, 12px, 0);
    }
    80% {
        clip: rect(55px, 9999px, 60px, 0);
    }
    100% {
        clip: rect(90px, 9999px, 23px, 0);
    }
}

/* Censored Reveal Effect */
.censored {
    background: black;
    color: black;
    user-select: none;
    cursor: pointer;
    transition: all 0.3s ease;
    border-radius: 2px;
    padding: 0 2px;
}

.censored:hover {
    background: rgba(0, 0, 0, 0.5);
}

.censored.revealed {
    background: transparent;
    color: inherit;
    cursor: default;
}

/* Manifesto Fragment Highlight */
/* Interactive badges - Use CSS variables */
.interactive-badge {
    transition: all var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
    cursor: pointer;
    user-select: none;
}

.interactive-badge:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
}

.interactive-badge:active {
    transform: scale(0.98);
}

.interactive-badge:focus {
    outline: 2px solid var(--fallback-p, oklch(var(--p)));
    outline-offset: 2px;
}

.manifesto-fragment {
    position: relative;
    cursor: help;
    transition: all var(--animation-fast, 150ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.manifesto-fragment:hover {
    background-color: rgba(249, 115, 22, 0.2);
    border-radius: 3px;
    padding: 0 2px;
    transform: scale(1.02);
}

.manifesto-fragment::after {
    content: '‚ú®';
    opacity: 0;
    position: absolute;
    right: -20px;
    transition: opacity 0.2s ease;
}

.manifesto-fragment:hover::after {
    opacity: 1;
}

/* Rebel Action Glow */
.rebel-action {
    animation: rebel-glow 2s ease-in-out infinite;
}

@keyframes rebel-glow {
    0%, 100% {
        box-shadow: 0 0 5px rgba(249, 115, 22, 0.5);
    }
    50% {
        box-shadow: 0 0 20px rgba(249, 115, 22, 0.8), 0 0 30px rgba(249, 115, 22, 0.4);
    }
}

/* High Combo Glitch Effect */
.combo-high {
    animation: combo-glitch 0.5s ease-in-out;
}

@keyframes combo-glitch {
    0%, 100% {
        transform: translate(0) scale(1);
        filter: hue-rotate(0deg);
    }
    25% {
        transform: translate(-1px, 1px) scale(1.05);
        filter: hue-rotate(90deg);
    }
    50% {
        transform: translate(1px, -1px) scale(1.05);
        filter: hue-rotate(180deg);
    }
    75% {
        transform: translate(-1px, -1px) scale(1.05);
        filter: hue-rotate(270deg);
    }
}

/* Particle Burst (triggered on rebel moments) */
.particle-burst {
    position: relative;
    overflow: visible;
}

@keyframes particle-burst {
    0% {
        transform: scale(0);
        opacity: 1;
    }
    100% {
        transform: scale(2) translateY(-50px);
        opacity: 0;
    }
}

.particle-burst::before,
.particle-burst::after {
    content: '‚ú±';
    position: absolute;
    animation: particle-burst 1s ease-out forwards;
    font-size: 20px;
    color: #f97316;
}

.particle-burst::before {
    left: -10px;
    animation-delay: 0.1s;
}

.particle-burst::after {
    right: -10px;
    animation-delay: 0.2s;
}

/* Game "Throw In" Animation - Draws attention to the game canvas */
.game-throw-in {
    animation: throw-into-game 4s ease-in-out infinite;
    transform-origin: center center;
}

@keyframes throw-into-game {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        box-shadow: 0 25px 50px -12px rgba(249, 115, 22, 0.5);
    }
    25% {
        transform: scale(1.05) rotate(1deg);
        box-shadow: 0 35px 70px -12px rgba(249, 115, 22, 0.7), 0 0 40px rgba(249, 115, 22, 0.4);
    }
    50% {
        transform: scale(1.08) rotate(-1deg);
        box-shadow: 0 40px 80px -12px rgba(249, 115, 22, 0.8), 0 0 50px rgba(249, 115, 22, 0.5);
    }
    75% {
        transform: scale(1.05) rotate(1deg);
        box-shadow: 0 35px 70px -12px rgba(249, 115, 22, 0.7), 0 0 40px rgba(249, 115, 22, 0.4);
    }
}

/* Pulse Slow for Glow Effect */
@keyframes pulse-slow {
    0%, 100% {
        opacity: 0.3;
        transform: scale(1);
    }
    50% {
        opacity: 0.6;
        transform: scale(1.1);
    }
}

.animate-pulse-slow {
    animation: pulse-slow 3s ease-in-out infinite;
}

/* Horizontal Bounce for Arrow */
@keyframes bounce-horizontal {
    0%, 100% {
        transform: translateX(0);
    }
    50% {
        transform: translateX(-10px);
    }
}

.animate-bounce-horizontal {
    animation: bounce-horizontal 2s ease-in-out infinite;
}

/* Vertical Bounce for Bottom Badge */
@keyframes bounce-vertical {
    0%, 100% {
        transform: translateY(0) translateX(-50%);
    }
    50% {
        transform: translateY(-10px) translateX(-50%);
    }
}

.animate-bounce-vertical {
    animation: bounce-vertical 2s ease-in-out infinite;
}

/* Pulse Smooth for Badge */
.animate-pulse-smooth {
    animation: pulse-smooth 2s ease-in-out infinite;
}

@keyframes pulse-smooth {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.8;
        transform: scale(1.05);
    }
}

/* Game Click Overlay Animation */
.game-click-overlay {
    animation: fade-in-out 3s ease-in-out infinite;
}

@keyframes fade-in-out {
    0%, 100% {
        opacity: 0.7;
    }
    50% {
        opacity: 1;
    }
}

.game-click-overlay:hover {
    opacity: 1;
}

/* Section Scroll Animations - Use Intersection Observer in JS */
.section-scroll-in {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity var(--animation-slow, 500ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1)),
                transform var(--animation-slow, 500ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.section-scroll-in.visible {
    opacity: 1;
    transform: translateY(0);
}

/* Fade-in utility class */
.fade-in {
    animation: fadeIn var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1)) forwards;
}

/* Slide-up utility class */
.slide-up {
    animation: slideUp var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1)) forwards;
}

/* Scale-in utility class */
.scale-in {
    animation: scaleIn var(--animation-normal, 300ms) var(--easing-out, cubic-bezier(0.4, 0, 0.2, 1)) forwards;
}

/* Enhanced Game Canvas Hover */
.demo-canvas-container:hover .game-throw-in {
    animation-duration: 2s;
    transform: scale(1.1) !important;
}

.demo-canvas-container:hover .game-click-overlay {
    opacity: 0 !important;
}


/* Enhanced Loading Animations */
@keyframes pulse-glow {
  0%, 100% { 
    opacity: 1; 
    transform: scale(1);
    filter: drop-shadow(0 0 10px currentColor);
  }
  50% { 
    opacity: 0.8; 
    transform: scale(1.05);
    filter: drop-shadow(0 0 20px currentColor);
  }
}

@keyframes float-up {
  0% { transform: translateY(0px); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-10px); opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.loading-enhanced {
  animation: pulse-glow 2s ease-in-out infinite;
}

.loading-text-enhanced {
  animation: float-up 0.8s ease-out;
}

.progress-enhanced {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Smooth transitions for all interactive elements */
.interactive-element {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.interactive-element:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

/* Enhanced button hover effects */
.btn-enhanced:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.btn-enhanced:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

/* Card hover enhancements */
.card-interactive:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 40px rgba(0,0,0,0.1);
}

/* Improved focus states */
.focus-enhanced:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
  border-radius: 0.375rem;
}


/* Gamer-Themed UI Enhancements */

/* Neon glow effects */
.neon-glow {
  box-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor, 0 0 20px currentColor;
}

.neon-text {
  text-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor, 0 0 20px currentColor;
}

/* Scanlines effect */
.scanlines::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.03),
    rgba(0, 0, 0, 0.03) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
}

/* CRT effect */
.crt::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.1) 100%);
  pointer-events: none;
}

/* Glitch effect */
@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

.glitch:hover {
  animation: glitch 0.3s ease-in-out;
}

/* Pixelated effect */
.pixelated {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Retro button effects */
.btn-retro {
  background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
  background-size: 200% 200%;
  animation: shimmer 3s infinite;
}

.btn-retro:hover {
  background-position: 100% 0;
}

/* Achievement popup enhancements */
.achievement-popup {
  background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
  border: 2px solid var(--color-accent);
  box-shadow: 0 0 20px rgba(255, 140, 0, 0.5);
}

.achievement-popup::before {
  content: "üèÜ";
  font-size: 2rem;
  position: absolute;
  top: -1rem;
  left: 1rem;
  background: var(--color-base-100);
  border-radius: 50%;
  width: 3rem;
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid var(--color-accent);
}

/* HUD enhancements */
.hud-element {
  background: rgba(0, 0, 0, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
}

.hud-element:hover {
  border-color: var(--color-primary);
  box-shadow: 0 0 20px var(--color-primary);
}

/* Loading screen enhancements */
.loading-screen-enhanced {
  background: linear-gradient(135deg, #020617 0%, #0f172a 50%, #020617 100%);
  position: relative;
}

.loading-screen-enhanced::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(circle at 20% 80%, rgba(249, 115, 22, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(56, 189, 248, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(250, 204, 21, 0.1) 0%, transparent 50%);
}

/* Game modal enhancements */
.game-modal-enhanced {
  background: rgba(15, 23, 42, 0.95);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.game-modal-enhanced .modal-box {
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 41, 59, 0.9));
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
}

/* Interactive badge enhancements */
.interactive-badge {
  position: relative;
  overflow: hidden;
}

.interactive-badge::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: left 0.5s;
}

.interactive-badge:hover::before {
  left: 100%;
}

/* Manifesto fragment animations */
.manifesto-fragment {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.8s ease-out forwards;
}

.manifesto-fragment:nth-child(1) { animation-delay: 0.1s; }
.manifesto-fragment:nth-child(2) { animation-delay: 0.3s; }
.manifesto-fragment:nth-child(3) { animation-delay: 0.5s; }
.manifesto-fragment:nth-child(4) { animation-delay: 0.7s; }
.manifesto-fragment:nth-child(5) { animation-delay: 0.9s; }
.manifesto-fragment:nth-child(6) { animation-delay: 1.1s; }
.manifesto-fragment:nth-child(7) { animation-delay: 1.3s; }

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Enhanced card interactions */
.card-gamer {
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.8), rgba(30, 41, 59, 0.8));
  border: 1px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
}

.card-gamer:hover {
  transform: translateY(-5px) scale(1.02);
  border-color: var(--color-primary);
  box-shadow: 0 20px 40px rgba(249, 115, 22, 0.2);
}

/* Progress bar enhancements */
.progress-gamer {
  background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
  box-shadow: 0 0 10px var(--color-primary);
}

.progress-gamer::-webkit-progress-value {
  background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
  box-shadow: 0 0 10px var(--color-primary);
}

.progress-gamer::-moz-progress-bar {
  background: linear-gradient(90deg, var(--color-primary), var(--color-accent));
  box-shadow: 0 0 10px var(--color-primary);
}

@keyframes slide-in-right {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-slide-in-right {
    animation: slide-in-right 0.5s ease-out;
}
@keyframes fade-out {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

.animate-fade-out {
    animation: fade-out 0.5s ease-out forwards;
}
/* Notification Styles */
.achievement-notification {
    display: none;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.3s ease;
    z-index: var(--z-hud-notifications);
}

.score-popup {
    z-index: var(--z-hud-notifications);
}

.combo-counter {
    z-index: var(--z-hud-combo);
}

.loading-screen {
    z-index: var(--z-loading);
}

.skip-link {
    z-index: var(--z-skip-link);
}

.navbar-custom {
    z-index: var(--z-navbar);
    min-height: var(--navbar-height);
}

.dropdown-custom {
    z-index: var(--z-dropdown);
}

.game-modal {
    z-index: var(--z-modals);
}
/* Additional Styles */
.manifesto-error {
    color: var(--color-error);
}

.drawer-custom {
    z-index: var(--z-drawer-side);
}

.drawer-overlay-custom {
    z-index: var(--z-drawer-overlay);
}
/* Loading Styles */
.loading-primary {
    color: var(--color-primary);
}
.demo-canvas-container-custom {
    min-height: 400px;
}
.demo-canvas-custom {
    background: transparent;
    max-width: 100%;
    display: block;
}
.dh-section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.dh-section.active {
    opacity: 1;
    transform: translateY(0);
    animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}
/**
 * Component Styles - DaisyUI 5 Blueprint Patterns
 * Consolidated from css/components.css and css/daisyui-standardized.css
 * Separation of concerns: All reusable component styles
 * 
 * NOTE: This file mirrors static/css/components.css for root index.html compatibility
 */

/* ============================================
   KEYFRAME ANIMATIONS
   ============================================ */

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes bounce {
    0%, 100% {
        transform: translateY(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
        transform: translateY(0);
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
}

@keyframes bounce-horizontal {
    0%, 100% {
        transform: translateX(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
        transform: translateX(0);
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
}

@keyframes bounce-vertical {
    0%, 100% {
        transform: translateY(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
        transform: translateY(0);
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
}

@keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes fade-out {
    from { opacity: 1; }
    to { opacity: 0; }
}

@keyframes scale-in {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes loading-shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

@keyframes modal-enter {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(-10px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

@keyframes toast-enter {
    from {
        opacity: 0;
        transform: translateX(100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes toast-exit {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}

@keyframes alert-enter {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ============================================
   ANIMATION UTILITY CLASSES
   ============================================ */

.animate-pulse-smooth {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.animate-bounce-smooth {
    animation: bounce 2s infinite;
}

.animate-bounce-horizontal {
    animation: bounce-horizontal 2s infinite;
}

.animate-bounce-vertical {
    animation: bounce-vertical 2s infinite;
}

.animate-fade-in {
    animation: fade-in 0.3s ease-in;
}

.animate-fade-out {
    animation: fade-out 0.3s ease-out;
}

.animate-scale-in {
    animation: scale-in 0.2s ease-out;
}

.badge-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.badge-bounce {
    animation: bounce 1s infinite;
}

/* ============================================
   MODAL COMPONENTS
   ============================================ */

/* Modal Backdrop - DaisyUI Blueprint Pattern */
.modal-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: var(--z-modal-backdrop);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.modal-backdrop.active {
    opacity: 1;
    pointer-events: auto;
}

.modal-open {
    overflow: hidden;
}

.modal-box {
    transition: all 0.3s ease;
    animation: modal-enter 0.3s ease-out;
}

.modal[open] .modal-box {
    animation: modal-enter 0.3s ease-out;
}

/* Ensure modals appear above all content */
dialog.modal {
    z-index: var(--z-modals);
}

dialog.modal::backdrop {
    background: rgba(0, 0, 0, 0.5);
    z-index: var(--z-modal-backdrop);
}

/* ============================================
   TOAST COMPONENTS
   ============================================ */

/* Toast Container - DaisyUI Blueprint Pattern */
.toast {
    position: fixed;
    z-index: var(--z-hud-notifications);
    transition: all 0.3s ease;
    animation: toast-enter 0.3s ease-out;
}

.toast.toast-top {
    top: 1rem;
}

.toast.toast-top.toast-end {
    top: 1rem;
    right: 1rem;
}

.toast.toast-top.toast-center {
    top: 1rem;
    left: 50%;
    transform: translateX(-50%);
}

.toast.toast-top.toast-start {
    top: 1rem;
    left: 1rem;
}

.toast-exit {
    animation: toast-exit 0.3s ease-in forwards;
}

/* Responsive toast positioning */
@media (max-width: 640px) {
    .toast.toast-top.toast-end {
        top: auto;
        bottom: calc(var(--navbar-height) + 1rem);
        right: 1rem;
        left: 1rem;
        max-width: calc(100% - 2rem);
    }
}

/* ============================================
   CARD COMPONENTS
   ============================================ */

/* Card hover effects */
.card {
    transition: all var(--animation-normal) var(--easing-out);
}

.card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Card interactive - Standardized */
.card-interactive {
    transition: all 0.3s ease;
    cursor: pointer;
}

.card-interactive:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

.card-interactive:active {
    transform: translateY(0) scale(0.99);
}

/* Card loading state */
.card-loading {
    position: relative;
    overflow: hidden;
}

.card-loading::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(
        90deg,
        transparent,
        hsl(var(--b3) / 0.5),
        transparent
    );
    animation: loading-shimmer 1.5s infinite;
}

/* ============================================
   BUTTON COMPONENTS
   ============================================ */

/* Button consistency */
.btn {
    transition: all var(--animation-fast) var(--easing-out);
}

.btn:active {
    transform: scale(0.98);
}

/* Button interactive - Standardized using DaisyUI */
.btn-interactive {
    transition: all 0.3s ease;
}

.btn-interactive:hover {
    transform: scale(1.05);
}

.btn-interactive:active {
    transform: scale(0.95);
}

/* Button loading state - DaisyUI 5 compatible */
.btn-loading {
    position: relative;
    cursor: not-allowed;
    opacity: 0.5;
    pointer-events: none;
    color: transparent !important;
}

.btn-loading::after {
    content: '';
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-loading .loading {
    position: absolute;
}

/* ============================================
   BADGE COMPONENTS
   ============================================ */

/* Badge interactive effects */
.interactive-badge {
    transition: all var(--animation-normal) var(--easing-out);
    cursor: pointer;
}

.interactive-badge:hover {
    transform: scale(1.05);
}

.interactive-badge:active {
    transform: scale(0.98);
}

/* ============================================
   ALERT COMPONENTS
   ============================================ */

.alert {
    transition: all 0.3s ease;
    animation: alert-enter 0.3s ease-out;
}

/* ============================================
   PROGRESS COMPONENTS
   ============================================ */

/* Progress bar styling */
.progress {
    transition: width var(--animation-normal) var(--easing-out);
}

.progress-animated {
    transition: width 0.3s ease-out;
}

/* ============================================
   LOADING STATES
   ============================================ */

/* Loading skeleton - DaisyUI 5 pattern */
.loading-skeleton {
    background-color: hsl(var(--b3));
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    border-radius: 0.25rem;
    background: linear-gradient(
        90deg,
        hsl(var(--b3)) 25%,
        hsl(var(--b2)) 50%,
        hsl(var(--b3)) 75%
    );
    background-size: 200% 100%;
    animation: loading-shimmer 1.5s ease-in-out infinite;
}

.skeleton {
    background-color: hsl(var(--b3));
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    border-radius: 0.25rem;
}

.skeleton-text {
    height: 1rem;
    background-color: hsl(var(--b3));
    border-radius: 0.25rem;
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.skeleton-avatar {
    border-radius: 9999px;
    background-color: hsl(var(--b3));
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.skeleton-button {
    height: 2.5rem;
    background-color: hsl(var(--b3));
    border-radius: 0.25rem;
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Loading overlay */
.loading-overlay {
    position: absolute;
    inset: 0;
    background-color: hsl(var(--b2) / 0.9);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fade-in 0.3s ease-out;
}

/* Loading states */
.state-loading {
    opacity: 0.5;
    pointer-events: none;
}

.state-loading::after {
    content: '';
    position: absolute;
    inset: 0;
    background-color: hsl(var(--b2) / 0.5);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
}

/* ============================================
   FOCUS STATES & ACCESSIBILITY
   ============================================ */

/* Focus states for accessibility */
*:focus-visible {
    outline: 2px solid hsl(var(--p));
    outline-offset: 2px;
    border-radius: 0.25rem;
}

button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
    outline: 2px solid hsl(var(--p));
    outline-offset: 2px;
}

/* Skip Link */
.skip-link {
    position: absolute;
    left: -9999px;
    z-index: var(--z-skip-link);
}

.skip-link:focus {
    left: 1rem;
    top: 1rem;
    padding: 0.75rem 1.5rem;
    background: hsl(var(--p));
    color: hsl(var(--pc));
    border-radius: 0.5rem;
    text-decoration: none;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

/* ============================================
   TRANSITION UTILITIES
   ============================================ */

.transition-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.6, 1);
}

.transition-fast {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

.transition-slow {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.6, 1);
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

/* Icon chip - Standardized DaisyUI pattern */
.icon-chip {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    border-radius: 0.5rem;
    background-color: hsl(var(--p) / 0.1);
    border: 1px solid hsl(var(--p) / 0.2);
    transition: all 0.3s ease;
}

.icon-chip:hover {
    background-color: hsl(var(--p) / 0.2);
    border-color: hsl(var(--p) / 0.4);
    transform: scale(1.1);
}

/* Text gradient utility */
.text-gradient {
    background: linear-gradient(to right, hsl(var(--p)), hsl(var(--s)), hsl(var(--a)));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

/* Backdrop blur utilities */
.backdrop-blur-sm {
    backdrop-filter: blur(4px);
}

.backdrop-blur-md {
    backdrop-filter: blur(8px);
}

.backdrop-blur-lg {
    backdrop-filter: blur(16px);
}

/* Glass morphism effect - DaisyUI 5 compatible */
.glass {
    background-color: hsl(var(--b1) / 0.8);
    backdrop-filter: blur(8px);
    border: 1px solid hsl(var(--bc) / 0.2);
}

.glass-strong {
    background-color: hsl(var(--b2) / 0.95);
    backdrop-filter: blur(16px);
    border: 2px solid hsl(var(--bc) / 0.2);
}

/* Shadow utilities - Enhanced */
.shadow-glow {
    box-shadow: 0 0 20px hsl(var(--p) / 0.3);
}

.shadow-glow-lg {
    box-shadow: 0 0 40px hsl(var(--p) / 0.4);
}

/* Hover glow effects */
.hover\:shadow-glow:hover {
    box-shadow: 0 0 20px hsl(var(--p) / 0.3);
}

.hover\:shadow-glow-lg:hover {
    box-shadow: 0 0 40px hsl(var(--p) / 0.4);
}

/* Game canvas container - Base styles (responsive overrides in responsive.css) */
.demo-canvas-container {
    position: relative;
    width: 100%;
    background-color: hsl(var(--b3) / 0.2);
    border-radius: 0.5rem;
    border: 2px solid hsl(var(--bc) / 0.2);
    min-height: 400px;
}

/* ============================================
   REDUCED MOTION
   ============================================ */

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Layout System - Z-Index, Spacing, and Positioning Variables */
/* Separation of concerns: All layout-related CSS variables and utilities */

/* Z-Index System - Unified layering for all components */
/* DaisyUI Blueprint compatible z-index system */
:root {
    /* Background and Canvas Layers */
    --z-background: -10;
    --z-canvas: 0;
    
    /* Content Layers */
    --z-content: 10;
    
    /* HUD and Game UI Layers */
    --z-hud: 50;
    --z-hud-combo: 55;
    --z-hud-notifications: 60;
    
    /* Navigation Layers - DaisyUI compatible */
    --z-navbar: 100;
    --z-dropdown: 101;
    --z-drawer-overlay: 102;
    --z-drawer-side: 103;
    
    /* Modal and Dialog Layers - DaisyUI uses z-50 (z-index: 50) for modals */
    --z-modals: 1000;
    --z-modal-backdrop: 999;
    
    /* Presentation specific layers */
    --z-presentation-background: -10;
    --z-presentation-content: 0;
    --z-presentation-nav-controls: 40;
    --z-presentation-hud: 45;
    --z-presentation-powerups: 46;
    --z-presentation-combo: 47;
    --z-presentation-toast: 48;
    --z-presentation-quest: 49;
    --z-presentation-modals: 100;
    --z-presentation-loading: 9999;
    
    /* Special Layers */
    --z-skip-link: 2000;
    --z-loading: 9999;
}

/* Scroll Anchoring Fix - Prevent browser scroll anchoring on main container */
html,
body {
    overflow-anchor: none;
}

/* FOUC Prevention - Hide content until styles load */
html { 
    visibility: hidden; 
    opacity: 0; 
}
html.styles-loaded { 
    visibility: visible; 
    opacity: 1; 
    transition: opacity 0.2s ease-in; 
}

/* Disable scroll anchoring on scroll containers to prevent adjustment warnings */
.slide,
.slide-container,
.game-container,
.demo-canvas-container,
[class*="overflow"] {
    overflow-anchor: none;
}

/* Layout Variables */
:root {
    /* Navbar Dimensions */
    --navbar-height: 3.5rem;
    --navbar-height-sm: 4rem;
    
    /* HUD Dimensions */
    --hud-width: 180px;
    --hud-gap: 0.5rem;
    
    /* Spacing from navbar */
    --navbar-spacing: 1rem;
    --navbar-spacing-sm: 0.25rem;
}

/* Responsive navbar height calculation */
@media (min-width: 640px) {
    :root {
        --navbar-height: var(--navbar-height-sm);
        --navbar-spacing: var(--navbar-spacing-sm);
    }
}

/* Utility Classes for Z-Index */
.z-background {
    z-index: var(--z-background);
}

.z-canvas {
    z-index: var(--z-canvas);
}

.z-content {
    z-index: var(--z-content);
}

.z-hud {
    z-index: var(--z-hud);
}

.z-hud-combo {
    z-index: var(--z-hud-combo);
}

.z-hud-notifications {
    z-index: var(--z-hud-notifications);
}

.z-navbar {
    z-index: var(--z-navbar);
}

.z-dropdown {
    z-index: var(--z-dropdown);
}

.z-modals {
    z-index: var(--z-modals);
}

.z-loading {
    z-index: var(--z-loading);
}

/* Layout Utilities */
.navbar-spacing {
    padding-top: var(--navbar-height);
}

@media (min-width: 640px) {
    .navbar-spacing {
        padding-top: var(--navbar-height-sm);
    }
}

/* Combo Counter Positioning - Avoid HUD collision */
#comboCounter {
    right: calc(var(--hud-width) + var(--navbar-spacing) + 1rem);
}

@media (min-width: 1024px) {
    #comboCounter {
        right: 1rem; /* Desktop: right side, HUD is vertical */
    }
}

/* Drawer z-index fixes */
.drawer-side {
    z-index: var(--z-drawer-side);
}

.drawer-overlay {
    z-index: var(--z-drawer-overlay);
}

/* Modal z-index - DaisyUI uses z-50 by default, override for consistency */
.modal {
    z-index: var(--z-modals);
}

.modal-backdrop {
    z-index: var(--z-modal-backdrop);
}

/* Animation Timing Variables */
:root {
    --animation-fast: 150ms;
    --animation-normal: 300ms;
    --animation-slow: 500ms;
    --animation-very-slow: 1000ms;
    
    --easing-out: cubic-bezier(0.4, 0, 0.2, 1);
    --easing-in-out: cubic-bezier(0.4, 0, 0.6, 1);
    --easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* Section Grid Improvements */
.dh-section {
    padding: 4rem 1rem;
}

@media (min-width: 640px) {
    .dh-section {
        padding: 5rem 2rem;
    }
}

@media (min-width: 1024px) {
    .dh-section {
        padding: 6rem 2rem;
    }
}

.section-content {
    max-width: 64rem;
    margin: 0 auto;
}

.section-header {
    text-align: center;
    margin-bottom: 3rem;
}

.section-title {
    font-size: clamp(2rem, 5vw, 4rem);
    font-weight: 800;
    margin-bottom: 1rem;
}

/* Grid layouts */
.content-grid-2 {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
}

@media (min-width: 768px) {
    .content-grid-2 {
        grid-template-columns: 1fr 1fr;
    }
}

.content-grid-3 {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
}

@media (min-width: 768px) {
    .content-grid-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .content-grid-3 {
        grid-template-columns: repeat(3, 1fr);
    }
}
/* Responsive Utilities and Mobile Optimizations */
/* Separation of concerns: All responsive styles centralized */

/* Z-Index System - Now in layout.css */

/* Responsive Spacing System */
@media (max-width: 640px) {
    .section-spacing {
        padding-top: 3rem;
        padding-bottom: 3rem;
    }
    
    .container-responsive {
        padding-left: 1rem;
        padding-right: 1rem;
    }
}

@media (min-width: 641px) and (max-width: 1024px) {
    .section-spacing {
        padding-top: 4rem;
        padding-bottom: 4rem;
    }
    
    .container-responsive {
        padding-left: 2rem;
        padding-right: 2rem;
    }
}

@media (min-width: 1025px) {
    .section-spacing {
        padding-top: 5rem;
        padding-bottom: 5rem;
    }
    
    .container-responsive {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

/* Mobile Navigation Improvements - DaisyUI Blueprint Compatible */
@media (max-width: 1024px) {
    .drawer-side {
        width: 280px;
    }
    
    /* Gamification HUD - Responsive positioning */
    #gamificationHUD {
        top: calc(var(--navbar-height) + var(--navbar-spacing));
        right: 0.5rem;
        max-width: calc(100vw - 1rem);
        gap: 0.5rem;
    }
    
    #gamificationHUD .badge {
        padding: 0.375rem 0.5rem;
        font-size: 0.75rem;
    }
    
    /* Hide combo counter on mobile - space constraint */
    #comboCounter {
        display: none;
    }
    
    /* Ensure HUD cards are compact on mobile */
    #gamificationHUD .card {
        min-width: auto;
        width: 100%;
    }
}

/* Small mobile - HUD and presentation layout */
@media (max-width: 640px) {
    /* Ensure toast doesn't overlap with HUD - DaisyUI responsive pattern */
    .toast.toast-top.toast-end {
        top: calc(var(--navbar-height) + 12rem);
        max-width: calc(100vw - 1rem);
        right: 0.5rem;
        left: auto;
    }
    
    /* Presentation HUD on mobile */
    .presentation-hud {
        top: 0.5rem;
        right: 0.5rem;
        max-width: calc(100vw - 1rem);
        gap: 0.5rem;
    }
    
    .presentation-hud .card {
        min-width: 0;
    }
    
    /* Power-ups on mobile */
    .presentation-powerups {
        top: 0.5rem;
        left: 0.5rem;
        gap: 0.5rem;
    }
    
    /* Quest panel on mobile */
    .presentation-quest-panel {
        bottom: 0.5rem;
        left: 0.5rem;
        max-width: calc(100vw - 1rem);
    }
}

/* Game Canvas Responsive - Proper width constraints */
.demo-canvas-container {
    position: relative;
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    aspect-ratio: 16 / 9;
    transition: all 0.3s ease;
    box-sizing: border-box;
}

#demo-canvas {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    display: block;
    transition: all 0.3s ease;
    cursor: crosshair;
    box-sizing: border-box;
    object-fit: contain;
}

/* Scroll Lock Indicator */
.scroll-lock-indicator {
    position: absolute;
    top: 8px;
    right: 8px;
    background: rgba(249, 115, 22, 0.95);
    color: white;
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 11px;
    font-weight: 600;
    z-index: var(--z-hud-notifications);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.2s ease;
    backdrop-filter: blur(8px);
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255, 255, 255, 0.1);
    display: flex;
    align-items: center;
    gap: 6px;
    font-family: 'Rajdhani', sans-serif;
    letter-spacing: 0.5px;
    transform: translateY(-4px);
}

.scroll-lock-indicator[style*="opacity: 1"] {
    transform: translateY(0);
}

.scroll-lock-indicator i {
    font-size: 10px;
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Canvas active state when scroll locked */
.demo-canvas-container.scroll-locked {
    outline: 2px solid rgba(249, 115, 22, 0.4);
    outline-offset: 2px;
}

.demo-canvas-container.scroll-locked #demo-canvas {
    box-shadow: 0 0 20px rgba(249, 115, 22, 0.2);
}

@media (max-width: 640px) {
    .demo-canvas-container {
        aspect-ratio: 4 / 3;
        margin: 0 auto;
        max-width: 100%;
        width: 100%;
    }
    
    .hero .card-body {
        padding: 0.75rem;
    }
    
    /* Ensure hero content fits on mobile */
    .hero-content {
        width: 100%;
        max-width: 100%;
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    /* Game card width constraints */
    .hero .card {
        width: 100%;
        max-width: 100%;
        margin: 0 auto;
    }
}

/* Tablet canvas adjustments */
@media (min-width: 641px) and (max-width: 1024px) {
    .demo-canvas-container {
        aspect-ratio: 16 / 9;
        max-width: 100%;
    }
    
    .hero-content {
        flex-direction: column;
        gap: 2rem;
    }
    
    .hero-content > * {
        width: 100%;
        max-width: 100%;
    }
}

/* HUD Positioning for Mobile - Improved with DaisyUI patterns */
@media (max-width: 640px) {
    /* Index.html gamification HUD - better positioning */
    #gamificationHUD {
        top: calc(var(--navbar-height) + var(--navbar-spacing));
        right: 0.5rem;
        left: auto;
        flex-direction: row;
        flex-wrap: wrap;
        max-width: calc(100% - 1rem);
        gap: 0.5rem;
    }
    
    #gamificationHUD > * {
        flex: 1 1 calc(50% - 0.25rem);
        min-width: 0;
        max-width: calc(50% - 0.25rem);
    }
    
    /* Stack power-ups vertically on mobile */
    .powerups-container {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    /* Hide combo counter on mobile - already hidden via classes */
    #comboCounter {
        display: none;
    }
    
    /* Ensure score popup doesn't conflict */
    #scorePopup {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0);
    }
}

/* Tablet breakpoint - adjust HUD layout */
@media (min-width: 641px) and (max-width: 1024px) {
    #gamificationHUD {
        flex-direction: row;
        flex-wrap: wrap;
        max-width: calc(100% - 2rem);
        gap: 0.5rem;
    }
    
    #gamificationHUD > * {
        flex: 1 1 calc(50% - 0.25rem);
        min-width: 140px;
        max-width: calc(50% - 0.25rem);
    }
    
    /* Reposition combo counter to avoid HUD */
    #comboCounter {
        right: calc(var(--hud-width) + var(--navbar-spacing) + 1rem);
    }
}

/* Desktop - full column layout */
@media (min-width: 1025px) {
    #gamificationHUD {
        flex-direction: column;
        max-width: 18rem;
    }
    
    #gamificationHUD > * {
        flex: 0 0 auto;
        width: 100%;
        min-width: 160px;
        max-width: 100%;
    }
    
    /* Presentation page specific - HUD cards compact on mobile */
    .presentation-hud .card {
        min-width: 0;
        flex: 1 1 auto;
    }
    
    .presentation-hud .card-body {
        padding: 0.75rem;
    }
    
    /* Quest panel collapses smaller on mobile */
    .presentation-quest-panel .collapse-content {
        max-height: 40vh;
        overflow-y: auto;
    }
}

/* Hero Section Mobile Optimization - Improved width constraints */
@media (max-width: 768px) {
    .hero-content {
        padding-top: calc(var(--navbar-height) + 1.5rem); /* Account for fixed navbar */
        width: 100%;
        max-width: 100%;
        padding-left: 1rem;
        padding-right: 1rem;
        box-sizing: border-box;
    }
    
    .hero h1 {
        font-size: 2.5rem;
        line-height: 1.2;
        width: 100%;
        max-width: 100%;
    }
    
    .hero .text-xl {
        font-size: 1rem;
    }
    
    .hero .text-lg {
        font-size: 0.875rem;
    }
    
    /* Adjust game canvas position on mobile */
    .hero .demo-canvas-container {
        position: relative;
        bottom: auto;
        margin-top: 2rem;
        width: 100%;
        max-width: 100%;
    }
    
    /* Ensure flex children don't overflow */
    .hero-content > div {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
}

/* Card Responsive Improvements - Proper width constraints */
@media (max-width: 640px) {
    .feature-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
        width: 100%;
        max-width: 100%;
    }
    
    .stats {
        flex-direction: column;
        width: 100%;
        max-width: 100%;
    }
    
    .stats .stat {
        padding: 1rem;
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    /* Card width constraints */
    .card {
        width: 100%;
        max-width: 100%;
        box-sizing: border-box;
    }
    
    .card-body {
        padding: 1rem;
        width: 100%;
        box-sizing: border-box;
    }
}

/* Typography Responsive */
@media (max-width: 640px) {
    .section-title {
        font-size: 2rem;
    }
    
    .section-subtitle {
        font-size: 0.875rem;
    }
}

/* Navigation Drawer Mobile - DaisyUI Blueprint Pattern */
@media (max-width: 1024px) {
    .navbar-center {
        display: none;
    }
    
    .drawer-toggle:checked ~ .drawer-side {
        display: block;
    }
    
    /* Ensure drawer overlay works correctly */
    .drawer-overlay {
        background-color: rgba(0, 0, 0, 0.5);
    }
    
    /* Drawer side responsive width */
    .drawer-side {
        width: min(80vw, 320px);
    }
}

/* Touch Target Sizes (Accessibility) */
@media (max-width: 768px) {
    button, a, [role="button"] {
        min-height: 44px;
        min-width: 44px;
    }
    
    .btn-sm {
        min-height: 36px;
        min-width: 36px;
    }
}

/* Landscape Mobile Optimization - Width constraints */
@media (max-width: 896px) and (orientation: landscape) {
    .hero {
        min-height: auto;
        padding: 2rem 0;
        width: 100%;
        max-width: 100%;
    }
    
    .hero-content {
        padding-top: calc(var(--navbar-height) + 1rem);
        width: 100%;
        max-width: 100%;
        flex-direction: row;
        gap: 1rem;
    }
    
    #gamificationHUD {
        top: 0.5rem;
        right: 0.5rem;
        flex-direction: row;
        flex-wrap: wrap;
        max-width: calc(100% - 1rem);
    }
    
    /* Compact canvas in landscape */
    .demo-canvas-container {
        aspect-ratio: 16 / 9;
        max-height: 60vh;
    }
}

/* Z-Index System is defined in layout.css - this file should not redefine it */

/* Container width constraints */
.container-responsive,
.container {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    padding-left: 1rem;
    padding-right: 1rem;
}

@media (min-width: 640px) {
    .container-responsive,
    .container {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
    }
}

@media (min-width: 1024px) {
    .container-responsive,
    .container {
        max-width: 1280px;
        margin-left: auto;
        margin-right: auto;
    }
}

/* Survival game HUD */

.game-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 1rem;
    opacity: 0;
    transform: translateY(8px) scale(0.99);
    transition: opacity 0.4s ease, transform 0.45s ease;
    z-index: 12;
}

.game-overlay[data-active="true"] {
    opacity: 1;
    transform: translateY(0) scale(1);
}

.game-overlay__top,
.game-overlay__bottom {
    display: flex;
    justify-content: space-between;
    gap: 1rem;
    pointer-events: none;
}

.hud-stack {
    display: flex;
    gap: 0.75rem;
    flex-wrap: wrap;
    max-width: min(32rem, 100%);
}

.hud-stack--right {
    justify-content: flex-end;
}

.hud-card {
    min-width: 8.5rem;
    border-radius: 1rem;
    padding: 0.75rem 1rem;
    background: linear-gradient(160deg, rgba(8, 47, 73, 0.74), rgba(2, 6, 23, 0.82));
    border: 1px solid rgba(14, 165, 233, 0.3);
    box-shadow: 0 18px 30px rgba(2, 6, 23, 0.4);
    display: flex;
    align-items: center;
    gap: 0.75rem;
    backdrop-filter: blur(12px);
    pointer-events: none;
    position: relative;
    overflow: hidden;
}

.hud-card::after {
    content: '';
    position: absolute;
    inset: -40% 40% auto -40%;
    height: 160%;
    background: linear-gradient(120deg, rgba(56, 189, 248, 0.25), transparent 70%);
    transform: rotate(8deg);
    opacity: 0;
    transition: opacity 0.4s ease;
}

.hud-card[data-active="true"]::after {
    opacity: 1;
}

.hud-card__icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 9999px;
    background: radial-gradient(circle at 30% 30%, rgba(56, 189, 248, 0.35), rgba(2, 132, 199, 0.15));
    display: grid;
    place-items: center;
    color: #bae6fd;
    font-size: 1.1rem;
    filter: drop-shadow(0 0 12px rgba(56, 189, 248, 0.55));
}

.hud-card--score .hud-card__icon {
    background: radial-gradient(circle at 30% 30%, rgba(250, 204, 21, 0.4), rgba(202, 138, 4, 0.25));
    color: #facc15;
}

.hud-card--level .hud-card__icon {
    background: radial-gradient(circle at 30% 30%, rgba(192, 132, 252, 0.35), rgba(124, 58, 237, 0.2));
    color: #c084fc;
}

.hud-card--difficulty .hud-card__icon {
    background: radial-gradient(circle at 30% 30%, rgba(248, 113, 113, 0.3), rgba(248, 113, 113, 0.15));
    color: #f87171;
}

.hud-card--combo .hud-card__icon {
    background: radial-gradient(circle at 30% 30%, rgba(34, 197, 94, 0.35), rgba(21, 128, 61, 0.18));
    color: #34d399;
}

.hud-card__label {
    font-size: 0.65rem;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: rgba(226, 232, 240, 0.75);
    font-weight: 600;
    margin-bottom: 0.2rem;
}

.hud-card__value {
    font-family: 'Rajdhani', 'Inter', system-ui, sans-serif;
    font-weight: 700;
    font-size: 1.65rem;
    color: #f8fafc;
    text-shadow: 0 10px 24px rgba(14, 165, 233, 0.35);
}

.hud-card__subvalue {
    font-size: 0.75rem;
    color: rgba(148, 163, 184, 0.85);
    letter-spacing: 0.08em;
    text-transform: uppercase;
}

.hud-card--lives {
    min-width: 10rem;
}

.hud-lives {
    display: flex;
    gap: 0.35rem;
    align-items: center;
    font-size: 1.1rem;
    color: #f87171;
    text-shadow: 0 0 10px rgba(248, 113, 113, 0.45);
}

.hud-lives i {
    filter: drop-shadow(0 0 8px rgba(248, 113, 113, 0.55));
}

.hud-card--powerups {
    flex: 1 1 auto;
    min-height: 4.5rem;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.75rem;
}

.hud-powerups {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    width: 100%;
}

.hud-powerup {
    position: relative;
    width: 3rem;
    height: 3rem;
    border-radius: 0.85rem;
    background: rgba(14, 165, 233, 0.12);
    border: 1px solid rgba(14, 165, 233, 0.25);
    display: grid;
    place-items: center;
    color: #e2e8f0;
    font-size: 1.15rem;
    box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.15), 0 12px 24px rgba(2, 132, 199, 0.25);
    overflow: hidden;
}

.hud-powerup::after {
    content: '';
    position: absolute;
    inset: 0;
    background: conic-gradient(var(--powerup-color, rgba(56, 189, 248, 0.8)) calc(var(--powerup-progress, 0) * 1%), rgba(15, 23, 42, 0.88) 0);
    mix-blend-mode: screen;
    opacity: 0.75;
}

.hud-powerup__icon {
    position: relative;
    z-index: 1;
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.55));
}

.hud-powerup__label {
    position: absolute;
    bottom: 0.2rem;
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.55rem;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: rgba(226, 232, 240, 0.75);
    z-index: 1;
}

.hud-status {
    min-width: 16rem;
    max-width: 40%;
    border-radius: 1.25rem;
    padding: 0.85rem 1.2rem;
    background: linear-gradient(160deg, rgba(15, 118, 110, 0.25), rgba(15, 23, 42, 0.82));
    border: 1px solid rgba(94, 234, 212, 0.4);
    box-shadow: 0 30px 40px rgba(15, 23, 42, 0.45);
    position: relative;
    overflow: hidden;
    pointer-events: none;
}

.hud-status[data-variant="danger"] {
    background: linear-gradient(160deg, rgba(248, 113, 113, 0.25), rgba(24, 24, 27, 0.85));
    border-color: rgba(248, 113, 113, 0.5);
}

.hud-status[data-variant="warning"] {
    background: linear-gradient(160deg, rgba(251, 191, 36, 0.25), rgba(30, 41, 59, 0.85));
    border-color: rgba(251, 191, 36, 0.45);
}

.hud-status[data-variant="success"] {
    background: linear-gradient(160deg, rgba(34, 197, 94, 0.28), rgba(15, 23, 42, 0.82));
    border-color: rgba(74, 222, 128, 0.45);
}

.hud-status__glow {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 20% 20%, rgba(94, 234, 212, 0.6), transparent 60%);
    opacity: 0.25;
    transition: opacity 0.3s ease;
}

.hud-status__content {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
}

.hud-status__label {
    font-size: 0.65rem;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    color: rgba(167, 243, 208, 0.85);
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
}

.hud-status__message {
    font-family: 'Rajdhani', 'Inter', system-ui, sans-serif;
    font-size: 1.05rem;
    letter-spacing: 0.04em;
    color: #ccfbf1;
    text-transform: uppercase;
}

.hud-status.is-active .hud-status__glow {
    opacity: 0.55;
    animation: hudGlowPulse 1.3s ease-in-out infinite;
}

.hud-status.is-active .hud-status__message {
    animation: hudTextGlitch 0.75s steps(2, jump-none) 2;
}

.hud-card--combo[data-state="overdrive"] .hud-card__value {
    color: #f97316;
    text-shadow: 0 0 18px rgba(249, 115, 22, 0.55);
}

.hud-card--combo[data-state="overdrive"] .hud-card__icon {
    animation: hudSpin 1.25s linear infinite;
}

.hud-card--combo.is-pulsing {
    animation: hudPulse 0.6s ease;
}

@keyframes hudGlowPulse {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 0.75; }
}

@keyframes hudTextGlitch {
    0% { transform: translateX(0); }
    25% { transform: translateX(-2px) skewX(-3deg); }
    50% { transform: translateX(2px) skewX(3deg); }
    75% { transform: translateX(-1px) skewX(-2deg); }
    100% { transform: translateX(0); }
}

@keyframes hudSpin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

@keyframes hudPulse {
    0% { transform: scale(1); box-shadow: 0 0 0 rgba(249, 115, 22, 0.0); }
    50% { transform: scale(1.04); box-shadow: 0 12px 36px rgba(249, 115, 22, 0.4); }
    100% { transform: scale(1); box-shadow: 0 0 0 rgba(249, 115, 22, 0.0); }
}

@media (max-width: 1024px) {
    .game-overlay {
        padding: 0.75rem;
    }
    
    .hud-card {
        min-width: 7.5rem;
        padding: 0.65rem 0.85rem;
    }
    
    .hud-card__value {
        font-size: 1.35rem;
    }
}

@media (max-width: 768px) {
    .game-overlay {
        padding: 0.5rem;
        gap: 0.75rem;
    }
    
    .game-overlay__top,
    .game-overlay__bottom {
        flex-direction: column;
        align-items: stretch;
    }
    
    .hud-stack,
    .hud-stack--right {
        justify-content: space-between;
    }
    
    .hud-card {
        width: 100%;
    }
    
    .hud-status {
        max-width: 100%;
    }
}
/* Dramatic Presentation Effects - Glitches, Animations, and Visual Impact */

/* Chromatic Aberration Glitch Effect */
@keyframes chromaticAberration {
    0%, 100% {
        filter: blur(0px) contrast(1);
        transform: translate(0, 0);
    }
    10% {
        filter: blur(0.5px) contrast(1.2);
        transform: translate(-2px, 1px);
    }
    20% {
        filter: blur(1px) contrast(1.5);
        transform: translate(2px, -1px);
    }
    30% {
        filter: blur(0.8px) contrast(1.3);
        transform: translate(-1px, 2px);
    }
    40% {
        filter: blur(1.2px) contrast(1.6);
        transform: translate(1px, -2px);
    }
    50% {
        filter: blur(0.5px) contrast(1.2);
        transform: translate(-1px, 1px);
    }
    60% {
        filter: blur(1px) contrast(1.4);
        transform: translate(1px, 1px);
    }
    70% {
        filter: blur(0.7px) contrast(1.3);
        transform: translate(-1px, -1px);
    }
    80% {
        filter: blur(1.1px) contrast(1.5);
        transform: translate(1px, -1px);
    }
    90% {
        filter: blur(0.3px) contrast(1.1);
        transform: translate(0, 0);
    }
}

.chromatic-glitch {
    animation: chromaticAberration 0.5s ease-in-out;
    position: relative;
    will-change: filter, transform;
}

.chromatic-glitch::before,
.chromatic-glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.chromatic-glitch::before {
    clip-path: inset(0 0 0 0);
    transform: translate(-2px, 0);
    color: #ff0080;
    mix-blend-mode: screen;
    animation: rgbShiftBefore 0.3s ease-in-out;
}

.chromatic-glitch::after {
    clip-path: inset(0 0 0 0);
    transform: translate(2px, 0);
    color: #00ffff;
    mix-blend-mode: screen;
    animation: rgbShiftAfter 0.3s ease-in-out;
}

@keyframes rgbShiftBefore {
    0%, 100% { transform: translate(-2px, 0); opacity: 0.8; }
    50% { transform: translate(-4px, 1px); opacity: 1; }
}

@keyframes rgbShiftAfter {
    0%, 100% { transform: translate(2px, 0); opacity: 0.8; }
    50% { transform: translate(4px, -1px); opacity: 1; }
}

/* Scan Line Effect */
@keyframes scanLine {
    0% {
        transform: translateY(-100%);
        opacity: 0.8;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: translateY(100vh);
        opacity: 0.8;
    }
}

.scan-line {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(
        to bottom,
        transparent,
        rgba(0, 255, 255, 0.8),
        transparent
    );
    pointer-events: none;
    z-index: calc(var(--z-presentation-modals) + 50);
    animation: scanLine 2s linear;
    box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

/* Screen distortion pulses layered on top of shake */
@keyframes screenDistortionSoft {
    0% {
        filter: none;
        transform: none;
    }
    20% {
        filter: contrast(1.1) saturate(1.05) hue-rotate(3deg);
        transform: translate3d(-1px, 0, 0);
    }
    40% {
        filter: contrast(1.2) saturate(1.1) hue-rotate(-4deg);
        transform: translate3d(1px, -1px, 0);
    }
    70% {
        filter: contrast(1.05) saturate(1.05);
        transform: translate3d(-1px, 1px, 0);
    }
    100% {
        filter: none;
        transform: none;
    }
}

@keyframes screenDistortion {
    0% {
        filter: none;
        transform: none;
    }
    15% {
        filter: contrast(1.35) saturate(1.2) hue-rotate(6deg);
        transform: translate3d(-3px, 1px, 0) skewX(0.6deg);
    }
    35% {
        filter: brightness(1.1) contrast(1.4) saturate(1.2);
        transform: translate3d(3px, -2px, 0) skewX(-0.8deg);
    }
    55% {
        filter: contrast(1.3) saturate(1.15) hue-rotate(-5deg);
        transform: translate3d(-2px, 1px, 0);
    }
    80% {
        filter: brightness(1.15) contrast(1.4);
        transform: translate3d(2px, 0, 0);
    }
    100% {
        filter: none;
        transform: none;
    }
}

@keyframes screenDistortionStrong {
    0% {
        filter: none;
        transform: none;
    }
    12% {
        filter: brightness(1.2) contrast(1.5) saturate(1.3) hue-rotate(8deg);
        transform: translate3d(-4px, 2px, 0) skewX(1deg);
    }
    28% {
        filter: brightness(1.15) contrast(1.6) saturate(1.25) hue-rotate(-10deg);
        transform: translate3d(4px, -3px, 0) skewX(-1deg);
    }
    48% {
        filter: contrast(1.45) saturate(1.4);
        transform: translate3d(-3px, 2px, 0);
    }
    68% {
        filter: brightness(1.2) contrast(1.5) saturate(1.3);
        transform: translate3d(2px, -2px, 0) skewX(0.8deg);
    }
    100% {
        filter: none;
        transform: none;
    }
}

@keyframes glitchSlicesSoft {
    0% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
    25% {
        opacity: 0.35;
        clip-path: inset(5% 0 65% 0);
        transform: translate3d(-2px, -1px, 0);
    }
    50% {
        opacity: 0.25;
        clip-path: inset(40% 0 30% 0);
        transform: translate3d(1px, 2px, 0);
    }
    75% {
        opacity: 0.2;
        clip-path: inset(60% 0 10% 0);
        transform: translate3d(-1px, 0, 0);
    }
    100% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes glitchSlices {
    0% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
    20% {
        opacity: 0.45;
        clip-path: inset(8% 0 55% 0);
        transform: translate3d(-3px, -2px, 0);
    }
    40% {
        opacity: 0.4;
        clip-path: inset(35% 0 25% 0);
        transform: translate3d(3px, 2px, 0);
    }
    60% {
        opacity: 0.35;
        clip-path: inset(65% 0 5% 0);
        transform: translate3d(-2px, 1px, 0);
    }
    80% {
        opacity: 0.3;
        clip-path: inset(15% 0 70% 0);
        transform: translate3d(2px, -1px, 0);
    }
    100% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes glitchSlicesStrong {
    0% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
    18% {
        opacity: 0.6;
        clip-path: inset(12% 0 50% 0);
        transform: translate3d(-4px, -3px, 0);
    }
    36% {
        opacity: 0.55;
        clip-path: inset(30% 0 32% 0);
        transform: translate3d(4px, 3px, 0);
    }
    56% {
        opacity: 0.5;
        clip-path: inset(62% 0 12% 0);
        transform: translate3d(-3px, 2px, 0);
    }
    78% {
        opacity: 0.45;
        clip-path: inset(20% 0 65% 0);
        transform: translate3d(3px, -2px, 0);
    }
    100% {
        opacity: 0;
        clip-path: inset(0 0 100% 0);
        transform: translate3d(0, 0, 0);
    }
}

@keyframes glitchRGBSoft {
    0% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
    30% {
        opacity: 0.3;
        transform: translate3d(2px, -1px, 0);
    }
    60% {
        opacity: 0.25;
        transform: translate3d(-2px, 1px, 0);
    }
    100% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes glitchRGB {
    0% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
    25% {
        opacity: 0.45;
        transform: translate3d(3px, -2px, 0);
    }
    55% {
        opacity: 0.35;
        transform: translate3d(-3px, 2px, 0);
    }
    85% {
        opacity: 0.3;
        transform: translate3d(2px, -3px, 0);
    }
    100% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
}

@keyframes glitchRGBStrong {
    0% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
    22% {
        opacity: 0.6;
        transform: translate3d(4px, -3px, 0);
    }
    50% {
        opacity: 0.5;
        transform: translate3d(-4px, 3px, 0);
    }
    78% {
        opacity: 0.45;
        transform: translate3d(3px, -4px, 0);
    }
    100% {
        opacity: 0;
        transform: translate3d(0, 0, 0);
    }
}

body.screen-distortion-soft,
body.screen-distortion,
body.screen-distortion-strong {
    animation-fill-mode: forwards;
    animation-timing-function: steps(2, end);
}

body.screen-distortion-soft {
    animation-name: screenDistortionSoft;
    animation-duration: 0.45s;
}

body.screen-distortion {
    animation-name: screenDistortion;
    animation-duration: 0.6s;
}

body.screen-distortion-strong {
    animation-name: screenDistortionStrong;
    animation-duration: 0.75s;
}

body.screen-distortion-soft::before,
body.screen-distortion::before,
body.screen-distortion-strong::before,
body.screen-distortion-soft::after,
body.screen-distortion::after,
body.screen-distortion-strong::after {
    content: '';
    position: fixed;
    inset: -2%;
    pointer-events: none;
    z-index: calc(var(--z-presentation-modals) + 40);
    mix-blend-mode: screen;
    opacity: 0;
}

body.screen-distortion-soft::before {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.3) 0%, rgba(255, 0, 128, 0.25) 100%);
    animation: glitchSlicesSoft 0.5s steps(2, end);
}

body.screen-distortion::before {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.4) 0%, rgba(255, 0, 128, 0.35) 100%);
    animation: glitchSlices 0.65s steps(3, end);
}

body.screen-distortion-strong::before {
    background: linear-gradient(180deg, rgba(0, 255, 255, 0.5) 0%, rgba(255, 0, 128, 0.45) 100%);
    animation: glitchSlicesStrong 0.8s steps(4, end);
}

body.screen-distortion-soft::after {
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.05) 0px,
        rgba(0, 0, 0, 0.05) 2px,
        transparent 2px,
        transparent 4px
    );
    animation: glitchRGBSoft 0.5s steps(2, end);
}

body.screen-distortion::after {
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.08) 0px,
        rgba(0, 0, 0, 0.08) 2px,
        transparent 2px,
        transparent 5px
    );
    animation: glitchRGB 0.65s steps(3, end);
}

body.screen-distortion-strong::after {
    background: repeating-linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.12) 0px,
        rgba(0, 0, 0, 0.12) 3px,
        transparent 3px,
        transparent 6px
    );
    animation: glitchRGBStrong 0.8s steps(4, end);
}

/* Data Corruption Glitch */
@keyframes dataCorruption {
    0%, 100% {
        clip-path: inset(0 0 0 0);
        filter: hue-rotate(0deg);
    }
    10% {
        clip-path: inset(10% 5% 10% 5%);
        filter: hue-rotate(90deg) contrast(1.5);
    }
    20% {
        clip-path: inset(5% 10% 5% 10%);
        filter: hue-rotate(180deg) contrast(2);
    }
    30% {
        clip-path: inset(15% 2% 15% 2%);
        filter: hue-rotate(270deg) contrast(1.8);
    }
    40% {
        clip-path: inset(2% 15% 2% 15%);
        filter: hue-rotate(360deg) contrast(2.2);
    }
    50% {
        clip-path: inset(8% 8% 8% 8%);
        filter: hue-rotate(180deg) contrast(1.6);
    }
    60% {
        clip-path: inset(3% 12% 3% 12%);
        filter: hue-rotate(90deg) contrast(1.9);
    }
    70% {
        clip-path: inset(12% 3% 12% 3%);
        filter: hue-rotate(270deg) contrast(2.1);
    }
    80% {
        clip-path: inset(6% 6% 6% 6%);
        filter: hue-rotate(45deg) contrast(1.7);
    }
    90% {
        clip-path: inset(0 0 0 0);
        filter: hue-rotate(0deg);
    }
}

.data-corruption {
    animation: dataCorruption 0.6s ease-in-out;
    will-change: clip-path, filter;
}

/* Screen Shake (Dramatic) */
@keyframes dramaticShake {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    2% { transform: translate(-10px, -10px) rotate(-1deg); }
    4% { transform: translate(10px, 10px) rotate(1deg); }
    6% { transform: translate(-8px, 8px) rotate(-0.8deg); }
    8% { transform: translate(8px, -8px) rotate(0.8deg); }
    10% { transform: translate(-6px, -6px) rotate(-0.5deg); }
    12% { transform: translate(6px, 6px) rotate(0.5deg); }
    14% { transform: translate(-4px, 4px) rotate(-0.3deg); }
    16% { transform: translate(4px, -4px) rotate(0.3deg); }
    18% { transform: translate(-2px, -2px) rotate(-0.1deg); }
    20% { transform: translate(2px, 2px) rotate(0.1deg); }
    22%, 100% { transform: translate(0, 0) rotate(0deg); }
}

.dramatic-shake {
    animation: dramaticShake 0.8s ease-out;
}

/* Screen Flash (Color Variants) */
@keyframes screenFlash {
    0%, 100% { opacity: 0; }
    10% { opacity: 0.9; }
    20% { opacity: 0.3; }
    30% { opacity: 0.8; }
    40% { opacity: 0.2; }
    50% { opacity: 0.7; }
    60% { opacity: 0.1; }
    70% { opacity: 0.5; }
    80% { opacity: 0; }
}

.screen-flash {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: calc(var(--z-presentation-modals) + 100);
    mix-blend-mode: screen;
    animation: screenFlash 0.4s ease-out;
}

.screen-flash.primary {
    background: radial-gradient(circle, hsl(var(--p)) 0%, transparent 70%);
}

.screen-flash.success {
    background: radial-gradient(circle, hsl(var(--su)) 0%, transparent 70%);
}

.screen-flash.warning {
    background: radial-gradient(circle, hsl(var(--wa)) 0%, transparent 70%);
}

.screen-flash.error {
    background: radial-gradient(circle, hsl(var(--er)) 0%, transparent 70%);
}

.screen-flash.rainbow {
    background: radial-gradient(circle, 
        #ff0080 0%,
        #ff8000 20%,
        #ffff00 40%,
        #00ff00 60%,
        #00ffff 80%,
        transparent 100%
    );
}

/* Radial Burst (Enhanced) */
@keyframes radialBurstEnhanced {
    0% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
        filter: blur(0px);
    }
    20% {
        opacity: 1;
        transform: scale(1.2) rotate(90deg);
        filter: blur(2px);
    }
    40% {
        opacity: 0.8;
        transform: scale(1.8) rotate(180deg);
        filter: blur(4px);
    }
    60% {
        opacity: 0.6;
        transform: scale(2.4) rotate(270deg);
        filter: blur(6px);
    }
    80% {
        opacity: 0.3;
        transform: scale(3) rotate(360deg);
        filter: blur(8px);
    }
    100% {
        opacity: 0;
        transform: scale(4) rotate(450deg);
        filter: blur(10px);
    }
}

.radial-burst-enhanced {
    position: fixed;
    width: 200px;
    height: 200px;
    border-radius: 50%;
    pointer-events: none;
    z-index: calc(var(--z-presentation-modals) + 80);
    animation: radialBurstEnhanced 1.2s ease-out forwards;
    background: radial-gradient(circle, 
        rgba(255, 255, 255, 0.9) 0%,
        rgba(249, 115, 22, 0.7) 30%,
        rgba(168, 85, 247, 0.5) 60%,
        transparent 100%
    );
}

/* Glitch Text Effect */
@keyframes glitchText {
    0%, 100% {
        transform: translate(0);
        text-shadow: 0 0 0 currentColor;
    }
    10% {
        transform: translate(-2px, 1px);
        text-shadow: -2px 0 #ff0080, 2px 2px #00ffff;
    }
    20% {
        transform: translate(2px, -1px);
        text-shadow: 2px 0 #ff0080, -2px -2px #00ffff;
    }
    30% {
        transform: translate(-1px, 2px);
        text-shadow: -1px 0 #ff0080, 1px 2px #00ffff;
    }
    40% {
        transform: translate(1px, -2px);
        text-shadow: 1px 0 #ff0080, -1px -2px #00ffff;
    }
    50% {
        transform: translate(-1px, 1px);
        text-shadow: -1px 0 #ff0080, 1px 1px #00ffff;
    }
    60% {
        transform: translate(1px, 1px);
        text-shadow: 1px 0 #ff0080, -1px 1px #00ffff;
    }
    70% {
        transform: translate(-1px, -1px);
        text-shadow: -1px 0 #ff0080, 1px -1px #00ffff;
    }
    80% {
        transform: translate(1px, -1px);
        text-shadow: 1px 0 #ff0080, -1px -1px #00ffff;
    }
    90% {
        transform: translate(0);
        text-shadow: 0 0 0 currentColor;
    }
}

.glitch-text {
    animation: glitchText 0.5s ease-in-out;
    position: relative;
    display: inline-block;
}

.glitch-text::before,
.glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: inherit;
    clip-path: inset(0 0 0 0);
}

.glitch-text::before {
    left: -2px;
    color: #ff0080;
    mix-blend-mode: screen;
    animation: glitchBefore 0.3s ease-in-out;
}

.glitch-text::after {
    left: 2px;
    color: #00ffff;
    mix-blend-mode: screen;
    animation: glitchAfter 0.3s ease-in-out;
}

@keyframes glitchBefore {
    0%, 100% { transform: translate(0, 0); opacity: 0.8; }
    25% { transform: translate(-3px, 2px); opacity: 1; }
    50% { transform: translate(3px, -2px); opacity: 0.9; }
    75% { transform: translate(-2px, 3px); opacity: 1; }
}

@keyframes glitchAfter {
    0%, 100% { transform: translate(0, 0); opacity: 0.8; }
    25% { transform: translate(3px, -2px); opacity: 1; }
    50% { transform: translate(-3px, 2px); opacity: 0.9; }
    75% { transform: translate(2px, -3px); opacity: 1; }
}

/* Matrix Rain Effect (Background) */
@keyframes matrixRain {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(100vh);
        opacity: 0;
    }
}

.matrix-rain {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: var(--z-presentation-background);
    overflow: hidden;
}

.matrix-char {
    position: absolute;
    color: hsl(var(--p));
    font-family: 'Courier New', monospace;
    font-size: 14px;
    animation: matrixRain 3s linear infinite;
    text-shadow: 0 0 5px currentColor;
    opacity: 0.7;
}

/* Digital Distortion */
@keyframes digitalDistortion {
    0%, 100% {
        filter: contrast(1) brightness(1) saturate(1);
        transform: scale(1);
    }
    25% {
        filter: contrast(1.5) brightness(1.2) saturate(1.5);
        transform: scale(1.02);
    }
    50% {
        filter: contrast(2) brightness(0.8) saturate(2);
        transform: scale(0.98);
    }
    75% {
        filter: contrast(1.3) brightness(1.1) saturate(1.3);
        transform: scale(1.01);
    }
}

.digital-distortion {
    animation: digitalDistortion 0.6s ease-in-out;
    will-change: filter, transform;
}

/* Energy Pulse */
@keyframes energyPulse {
    0%, 100% {
        box-shadow: 
            0 0 10px hsl(var(--p)),
            0 0 20px hsl(var(--p)),
            0 0 30px hsl(var(--p));
        transform: scale(1);
    }
    50% {
        box-shadow: 
            0 0 20px hsl(var(--p)),
            0 0 40px hsl(var(--p)),
            0 0 60px hsl(var(--p)),
            0 0 80px hsl(var(--p));
        transform: scale(1.1);
    }
}

.energy-pulse {
    animation: energyPulse 1.5s ease-in-out infinite;
}

/* Combo Glow Effect */
@keyframes comboGlow {
    0%, 100% {
        text-shadow: 
            0 0 5px hsl(var(--p)),
            0 0 10px hsl(var(--p)),
            0 0 15px hsl(var(--p));
        filter: brightness(1);
    }
    25% {
        text-shadow: 
            0 0 10px hsl(var(--s)),
            0 0 20px hsl(var(--s)),
            0 0 30px hsl(var(--s));
        filter: brightness(1.2);
    }
    50% {
        text-shadow: 
            0 0 15px hsl(var(--a)),
            0 0 30px hsl(var(--a)),
            0 0 45px hsl(var(--a));
        filter: brightness(1.4);
    }
    75% {
        text-shadow: 
            0 0 10px hsl(var(--wa)),
            0 0 20px hsl(var(--wa)),
            0 0 30px hsl(var(--wa));
        filter: brightness(1.2);
    }
}

.combo-glow {
    animation: comboGlow 2s ease-in-out infinite;
}

/* Achievement Unlock Explosion */
@keyframes achievementExplosion {
    0% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
        filter: blur(0px);
    }
    30% {
        opacity: 1;
        transform: scale(1.5) rotate(180deg);
        filter: blur(2px);
    }
    60% {
        opacity: 0.9;
        transform: scale(2) rotate(360deg);
        filter: blur(4px);
    }
    100% {
        opacity: 0;
        transform: scale(3) rotate(540deg);
        filter: blur(8px);
    }
}

.achievement-explosion {
    position: fixed;
    width: 300px;
    height: 300px;
    border-radius: 50%;
    pointer-events: none;
    z-index: calc(var(--z-presentation-modals) + 90);
    animation: achievementExplosion 1.5s ease-out forwards;
    background: radial-gradient(circle,
        rgba(255, 255, 255, 1) 0%,
        rgba(249, 115, 22, 0.9) 20%,
        rgba(168, 85, 247, 0.7) 40%,
        rgba(59, 130, 246, 0.5) 60%,
        transparent 80%
    );
}

/* Quest Complete Banner Glitch */
@keyframes questBannerGlitch {
    0%, 100% {
        transform: translateX(0) scale(1);
        filter: hue-rotate(0deg);
    }
    10% {
        transform: translateX(-5px) scale(1.02);
        filter: hue-rotate(90deg);
    }
    20% {
        transform: translateX(5px) scale(0.98);
        filter: hue-rotate(180deg);
    }
    30% {
        transform: translateX(-3px) scale(1.01);
        filter: hue-rotate(270deg);
    }
    40% {
        transform: translateX(3px) scale(0.99);
        filter: hue-rotate(360deg);
    }
    50%, 100% {
        transform: translateX(0) scale(1);
        filter: hue-rotate(0deg);
    }
}

.quest-banner-glitch {
    animation: questBannerGlitch 0.8s ease-in-out;
}

/* Score Popup Dramatic Entrance */
@keyframes scorePopupDramatic {
    0% {
        opacity: 0;
        transform: scale(0) rotate(-180deg) translateY(-100px);
        filter: blur(10px);
    }
    30% {
        opacity: 1;
        transform: scale(1.3) rotate(0deg) translateY(0);
        filter: blur(2px);
    }
    50% {
        transform: scale(1.1) rotate(10deg) translateY(-10px);
        filter: blur(0px);
    }
    70% {
        transform: scale(1) rotate(-5deg) translateY(5px);
        filter: blur(0px);
    }
    85% {
        transform: scale(1.05) rotate(0deg) translateY(0);
        filter: blur(0px);
    }
    100% {
        opacity: 0;
        transform: scale(0.8) rotate(0deg) translateY(-50px);
        filter: blur(5px);
    }
}

.score-popup-dramatic {
    animation: scorePopupDramatic 1.5s ease-in-out forwards;
}

/* High Combo Warning Effect */
@keyframes highComboWarning {
    0%, 100% {
        border-color: hsl(var(--p));
        box-shadow: 0 0 10px hsl(var(--p));
        transform: scale(1);
    }
    25% {
        border-color: hsl(var(--wa));
        box-shadow: 0 0 20px hsl(var(--wa));
        transform: scale(1.05);
    }
    50% {
        border-color: hsl(var(--er));
        box-shadow: 0 0 30px hsl(var(--er));
        transform: scale(1.1);
    }
    75% {
        border-color: hsl(var(--wa));
        box-shadow: 0 0 20px hsl(var(--wa));
        transform: scale(1.05);
    }
}

.high-combo-warning {
    animation: highComboWarning 1s ease-in-out infinite;
}

/* Reduce effects for accessibility */
@media (prefers-reduced-motion: reduce) {
    .chromatic-glitch,
    .data-corruption,
    .dramatic-shake,
    .screen-flash,
    .radial-burst-enhanced,
    .glitch-text,
    .digital-distortion,
    .energy-pulse,
    .combo-glow,
    .achievement-explosion,
    .quest-banner-glitch,
    .score-popup-dramatic,
    .high-combo-warning {
        animation: none !important;
        transform: none !important;
        filter: none !important;
    }
    
    .scan-line,
    .matrix-rain {
        display: none !important;
    }
}
/* Slide Enhancement Styles - Better UX and Accessibility */

/* Slide container scroll improvements */
.slide-container {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
}

/* Better focus indicators for accessibility */
.slide *:focus-visible {
    outline: 3px solid hsl(var(--p));
    outline-offset: 2px;
    border-radius: 4px;
}

/* Skip link for accessibility */
.slide-skip-link {
    position: absolute;
    top: -100px;
    left: 0;
    z-index: var(--z-skip-link);
    padding: 0.75rem 1.5rem;
    background: hsl(var(--p));
    color: hsl(var(--pc));
    text-decoration: none;
    border-radius: 0 0 4px 0;
    font-weight: 600;
    transition: top 0.3s ease;
}

.slide-skip-link:focus {
    top: 0;
}

/* Enhanced progress indicator */
.slide-progress-indicator {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: hsl(var(--b2) / 0.3);
    z-index: calc(var(--z-presentation-nav-controls) + 1);
    pointer-events: none;
}

.slide-progress-indicator::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: var(--slide-progress, 0%);
    background: linear-gradient(90deg, hsl(var(--p)), hsl(var(--s)));
    transition: width 0.3s ease;
    box-shadow: 0 0 10px hsl(var(--p) / 0.5);
}

/* Slide transition overlay for visual feedback */
.slide-transition-overlay {
    position: fixed;
    inset: 0;
    background: hsl(var(--b1) / 0.9);
    z-index: calc(var(--z-presentation-modals) - 1);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
}

.slide-transition-overlay.active {
    opacity: 1;
    pointer-events: auto;
}

/* Content fade-in animation for new slides */
@keyframes contentFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.slide.active > * {
    animation: contentFadeIn 0.6s ease-out forwards;
}

.slide.active > *:nth-child(1) { animation-delay: 0.1s; }
.slide.active > *:nth-child(2) { animation-delay: 0.2s; }
.slide.active > *:nth-child(3) { animation-delay: 0.3s; }
.slide.active > *:nth-child(4) { animation-delay: 0.4s; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .slide,
    .slide.active,
    .slide > *,
    .slide-progress-indicator::before {
        animation: none !important;
        transition: none !important;
    }
    
    .slide {
        opacity: 1;
        transform: none;
    }
}

/* Better touch targets for mobile */
@media (max-width: 768px) {
    .presentation-nav-controls .btn {
        min-width: 48px;
        min-height: 48px;
        padding: 0.75rem;
    }
    
    /* Larger touch area for navigation */
    .presentation-nav-controls {
        padding: 0.75rem;
        gap: 0.75rem;
    }
}

/* Enhanced visual feedback for interactive elements */
.slide [data-points]:hover,
.slide .card:hover,
.slide .interactive-badge:hover {
    cursor: pointer;
    transform: translateY(-2px);
    transition: transform 0.2s ease;
}

.slide [data-points]:active,
.slide .card:active {
    transform: translateY(0);
}

/* Loading state for slides */
.slide.loading {
    pointer-events: none;
    opacity: 0.6;
}

.slide.loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 40px;
    height: 40px;
    border: 4px solid hsl(var(--p) / 0.2);
    border-top-color: hsl(var(--p));
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* Better spacing for slide content */
.slide > .max-w-6xl,
.slide > .max-w-5xl,
.slide > .max-w-4xl {
    width: 100%;
    margin-left: auto;
    margin-right: auto;
}

/* Improved readability */
.slide {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Print styles - hide UI elements */
@media print {
    .presentation-nav-controls,
    .presentation-hud,
    .presentation-powerups,
    .presentation-quest-panel {
        display: none !important;
    }
    
    .slide {
        display: flex !important;
        min-height: auto;
        page-break-after: always;
        padding: 2rem;
    }
}

